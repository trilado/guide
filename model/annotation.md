# Anotações #
As anotações no Trilado, assim como em outros frameworks e linguagens de programação, funcionam como metadados para métodos e propriedades. No caso do model, estas anotações descrevem a ligação entre a classe e a entidade do banco de dados.

## Classe ##
As anotações disponíveis para as classes que herdam de `Model` são:

### @Entity() ###
A marcação `@Entity` define que a classe representa um entidade do banco de dados, ela pode receber um parâmetro, que é opcional com o nome da entidade. Se o parâmetro não for informado, o framework considera que a entidade possuí o mesmo nome que a classe. Veja um exemplo sem informar o nome da entidade:

	<?php
	/** @Entity() */
	class Example extends Model
	{
	}

Outro exemplo, dessa vez especificando qual o nome da entidade o model representa:

	<?php
	/** @Entity("table_example") */
	class Example extends Model
	{
	}

### @View() ###
A marcação `@View` define que a classe representa uma view de consulta do banco de dados, ela pode receber um parâmetro, que é opcional e representa o nome da view. Se o parâmetro não for informado, o framework considera que a view possuí o mesmo nome que a classe. Veja um exemplo sem informar o nome da view:

	<?php
	/** @View() */
	class ViewExample extends Model
	{
	}

Outro exemplo, dessa vez especificando qual o nome da view o model representa:

	<?php
	/** @View("view_example") */
	class Example extends Model
	{
	}

## Propriedades ##
As propriedades das classes que herdam de `Model` e querem representar uma coluna devem conter a anotação `@Colmun`. Algumas outras anotações estão disponíveis:

### @AutoGenerated() ###
Informa que o valor da coluna é gerado pelo banco de dados, assim, algum valor informado na parte da programação será ignorado. Essa anotação é usada, por exemplo, para campos de id que auto incrementam, ou datas geradas pelo banco.

	<?php
	/** @Entity() */
	class Example extends Model
	{
		/** 
		 * @AutoGenerated() 
		 * @Column()
		 */
		public $Id;
	}

### @Column() ###
Informa que a propriedade representa uma coluna do banco de dados. Pode receber três parâmetros, que são:

| Parâmetro | Descrição |
| --------- | --------- |
| Type      | tipo da coluna (String, Int, Double, Float, Boolean), se não for informado o valor padrão é 'String'. |
| Name      | nome da coluna no banco de dados, se não for informado o nome será o mesmo da propriedade. |
| Key       | recebe unicamente o valor 'Primary', que indica que a coluna é chave primária. |

Veja um exemplo de utilização da marcação `@Column()`:

	<?php
	/** @Entity() */
	class Example extends Model
	{
		/** @Column() */
		public $Name;
		
		/** @Column(Type="Boolean") */
		public $IsAdmin;

		/** 
		 * @Column(Type="Int",Name="user_id",Key="Primary")
		 */
		public $UserId;
	}

### @Label() ###
Descreve o nome do campo, que será utilizado na mensagem de validação automática, ou geração de formulário (através de helpers) automaticamente. Recebe um único parâmetro, que é obrigatório.

	<?php
	/** @Entity() */
	class Example extends Model
	{
		/** 
		 * @Column() 
		 * @Label("Nome de Usuário") 
		 */
		public $Name;
	}

### @Regex() ###
Define uma expressão regular para validação automática da propridade, por exemplo, e-mail. Recebe obrigatóriamente dois parâmetros:

| Parâmetro | Descrição |
| --------- | --------- |
| Pattern   | expressão regular de validação. |
| Message   | mensagem caso a o valor da propriedade esteja inválido. |

	<?php
	/** @Entity() */
	class Example extends Model
	{
		/** 
		 * @Column() 
		 * @Regex(Pattern="^[0-9]{5}-[0-9]{3}$",Message="CEP inválido!") 
		 */
		public $ZipCode;
	}

~! Para funcionar, requer que a configuração `validate` do banco de dados esteja definida com o valor `true`, no arquivo de configuração [Configuração](~/guide/configuration). ~!

### @Required() ###
Define que é obrigatório o preenchimento do valor da propriedade.

	<?php
	/** @Entity() */
	class Example extends Model
	{
		/** 
		 * @Column() 
		 * @Required() 
		 */
		public $Email;
	}

~! Para funcionar, requer que a configuração `validate` do banco de dados esteja definida com o valor `true`, no arquivo de configuração [Configuração](~/guide/configuration). ~!